"use strict"
function search(e,t){var r=void 0===arguments[2]?{}:arguments[2],n=r.obj,a=void 0===n?GLOBAL:n,o=r.path
e=searchBy[e]||e
var i=void 0,u=void 0
o||(o=a==GLOBAL?"GLOBAL":"")
for(var s=[{obj:a,path:o}],c=[],f=[];i=s.pop();){var l=i.obj,h=i.path
for(var p in l)try{if(l.hasOwnProperty(p)){if("[object Object]"==[l[p]]){for(var b=-1;c[++b]&&!(u=like(c[b].obj,l[p])&&c[b]););u||(i={obj:l[p],path:""+h+"."+p},s.push(i),c.push(i))}if(e(t,l,p)){var y=u?"<"+u.path+">":typeof l[p],d=new Match({path:h,obj:l,prop:p,type:y})
f.push(d),GLOBAL.DEBUG&&d.log()}}}catch(v){}}return f}function like(e,t){if(e===t)return!0
if(!(e instanceof Object&&t instanceof Object))return!1
if(e.constructor!==t.constructor)return!1
for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r))return!1
if(e[r]!==t[r]){if("object"!=typeof e[r])return!1
if(!like(e[r],t[r]))return!1}}for(r in t)if(t.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1}var _createClass=require("babel-runtime/helpers/create-class")["default"],_classCallCheck=require("babel-runtime/helpers/class-call-check")["default"],_Object$defineProperty=require("babel-runtime/core-js/object/define-property")["default"],_Object$assign=require("babel-runtime/core-js/object/assign")["default"]
_Object$defineProperty(exports,"__esModule",{value:!0})
var GLOBAL="object"==typeof window?window:global,find={byName:function(e,t){return this.searchMaybe("propName","string",e,t)},byType:function(e,t){return this.searchMaybe("type","function",e,t)},byValue:function(e,t){return this.searchMaybe("value",null,e,t)},byValueCoerced:function(e,t){return this.searchMaybe("valueCoerced",null,e,t)},custom:function(e,t){return this.searchMaybe(e,null,t)},searchMaybe:function(e,t,r,n){if(t&&typeof r!=t)throw new Error(""+r+" must be "+t)
return this===GLOBAL.waldo&&(GLOBAL.DEBUG=!0),search(e,r,n)}},searchBy={propName:function(e,t,r){return e==r},type:function(e,t,r){return t[r]instanceof e},value:function(e,t,r){return t[r]===e},valueCoerced:function(e,t,r){return t[r]==e}},Match=function(){function e(t){_classCallCheck(this,e),_Object$assign(this,t)}return _createClass(e,[{key:"toString",value:function(){var e=this.path,t=this.prop,r=this.type
return""+e+"."+t+" -> ("+r+") "+this.getValue()}},{key:"getValue",value:function(){var e=this.obj,t=this.prop
return e[t]}},{key:"log",value:function(){console.log(this.toString())}}]),e}()
GLOBAL.waldo=_Object$assign({},find,{debug:!0}),exports["default"]=find,module.exports=exports["default"]
