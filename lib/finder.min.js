"use strict"
function searchMaybe(e,r,t,o){r&&typeof t!=r?console.error(t," must be ",r):search(e,t,o)}function search(e,r){var t=void 0===arguments[2]?{}:arguments[2],o=t.obj,a=void 0===o?window||global:o,n=t.path
e=searchBy[e]||e
var u=void 0,i=void 0
n||(n=a==global?"global":"")
for(var c=[{obj:a,path:n}],f=[],l=new _query2["default"](e,r,n);u=c.pop();){var s=u.obj,p=u.path
for(var y in s)try{if(s.hasOwnProperty(y)){if("[object Object]"==[s[y]]){for(var b=-1;f[++b]&&!(i=like(f[b].obj,s[y])&&f[b]););i||(u={obj:s[y],path:""+p+"."+y},c.push(u),f.push(u))}if(e(r,s,y)){var h=i?"<"+i.path+">":typeof s[y]
l.addMatch(new _match2["default"](p,s,y,h)),console.log(""+p+"."+y+" -> ("+h+") "+s[y])}}}catch(d){}}return l}function like(e,r){if(e===r)return!0
if(!(e instanceof Object&&r instanceof Object))return!1
if(e.constructor!==r.constructor)return!1
for(var t in e)if(e.hasOwnProperty(t)){if(!r.hasOwnProperty(t))return!1
if(e[t]!==r[t]){if("object"!=typeof e[t])return!1
if(!like(e[t],r[t]))return!1}}for(t in r)if(r.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1}var _Object$defineProperty=require("babel-runtime/core-js/object/define-property")["default"],_interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"]
_Object$defineProperty(exports,"__esModule",{value:!0})
var _query=require("./query"),_query2=_interopRequireDefault(_query),_match=require("./match"),_match2=_interopRequireDefault(_match)
exports["default"]=find={byName:function(e,r){searchMaybe("propName","string",e,r)},byType:function(e,r){searchMaybe("type","function",e,r)},byValue:function(e,r){searchMaybe("value",null,e,r)},byValueCoerced:function(e,r){searchMaybe("valueCoerced",null,e,r)},custom:function(e,r){searchMaybe(e,null,r)}}
var searchBy={propName:function(e,r,t){return e==t},type:function(e,r,t){return r[t]instanceof e},value:function(e,r,t){return r[t]===e},valueCoerced:function(e,r,t){return r[t]==e}}
module.exports=exports["default"]
